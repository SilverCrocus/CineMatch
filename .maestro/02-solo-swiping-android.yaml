# Solo Swiping Flow Test - Android
# Tests the movie discovery swiping functionality

appId: com.cinematch.app
---

# Launch the app fresh to ensure clean state
- launchApp

# First ensure we're logged in by checking for Welcome text
- extendedWaitUntil:
    visible: "Welcome back.*"
    timeout: 10000

# Tap the Discover tab (second tab, ~50% from left)
- tapOn:
    point: "50%,95%"
- waitForAnimationToEnd

# Wait for Discover screen to load
- extendedWaitUntil:
    visible: "Discover"
    timeout: 5000

# Tap "Surprise Me" card to start random swiping (using subtitle text for Android)
- tapOn: "Random popular movies"
- waitForAnimationToEnd
- waitForAnimationToEnd

# Wait for movies to load - look for saved counter
- extendedWaitUntil:
    visible: ".*saved"
    timeout: 15000

# Test: Swipe right to like a movie
- swipe:
    direction: RIGHT
    duration: 500
- waitForAnimationToEnd

# Test: Swipe left to dismiss a movie
- swipe:
    direction: LEFT
    duration: 500
- waitForAnimationToEnd

# Continue with more swipes to verify stability
- swipe:
    direction: RIGHT
    duration: 500
- waitForAnimationToEnd

- swipe:
    direction: LEFT
    duration: 500
- waitForAnimationToEnd

# Go back using back button (top left)
- tapOn:
    point: "8%,10%"
- waitForAnimationToEnd
- waitForAnimationToEnd

# Navigate back to Home tab
- tapOn:
    point: "17%,95%"
- waitForAnimationToEnd

# Verify we're back on home screen
- extendedWaitUntil:
    visible: "Welcome back.*"
    timeout: 5000
